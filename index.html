<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6팀 6캔두잇을 소개합니다</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!--스크립트 추가 부분입니다-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs, deleteDoc, doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        // Firebase 구성 정보 설정
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyA9zC58RD2rPKiDTqciIhq3qY5b0NtoRPQ",
            authDomain: "sparta-10d8f.firebaseapp.com",
            projectId: "sparta-10d8f",
            storageBucket: "sparta-10d8f.appspot.com",
            messagingSenderId: "740890493301",
            appId: "1:740890493301:web:956981f7896ca6c548133c",
            measurementId: "G-6HR5DY5SVX"
        };

        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);


        //form 창 띄우기
        $("#f-btn").click(async function () {
            $('#form-box').show();
            $('#f-btn').hide();
        })
        //확인 시(create)
        $("#make-ok").click(async function () {
            let img = $('#f-img').val();
            let name = $('#f-name').val();
            let age = $('#f-age').val();
            let animal = $('#f-animal').val();
            let animal_text = $('#f-animal-text').val();
            let mbti = $('#f-mbti').val();
            let habit = $('#f-habit').val();
            let blog_url = $('#f-blog-url').val();
            let git_url = $('#f-git-url').val();
            let comment = $('#f-comment').val();

            let row = {
                'name': name,
                'img': img,
                'age': age,
                'animal': animal,
                'animal_text': animal_text,
                'mbti': mbti,
                'habit': habit,
                'blog_url': blog_url,
                'git_url': git_url,
                'comment': comment,
            }
            console.log(row);
            await addDoc(collection(db, "project_01"), row);
            alert('저장 완료!');
            window.location.reload();//새로고침
        })

        //취소 시
        $("#make-no").click(async function () {
            window.location.reload();
        })

        //read >> 이름, mbti, 대표 동물 정보만 가져왔습니다.(수정필요, 카드 만드는 것까지.)
        let docs = await getDocs(collection(db, "project_01"));
        docs.forEach((doc) => {
            let row = doc.data();

            let name = row['name'];
            let animal = row['animal'];
            let animal_text = row['animal_text'];

            //read
            $('#c-name').append(name);
            $('#c-animal').append(`<img src="${animal}">`);
            $('#c-animal-text').append(animal_text);
        });

    </script>

</head>

<body>
    <main style="font-family: Noto Sans KR;">
        <!-- 배너 -->
        <div class="container py-4 mt-5">
            <!-- 배너 배경 있는 영역 -->
            <div class="p-5 rounded-3"
                style="background-image: url(https://motionarray.imgix.net/preview-1078344-z3ySLx6mcV-high_0000.jpg?w=660&q=60&fit=max&auto=format);">
                <div class="container-fluid py-2 text-center text-white">
                    <h1 class="display-5 fw-bold">성장하는 팀,</h1>
                    <h1 class="display-5 fw-bold">육캔두잇</h1>
                </div>
            </div>
            <!-- 버튼 행 -->
            <div class="mt-2 mb-2">
                <div class="container p-0 w-100 text-end">
                    <button class="btn btn-primary btn-lg" type="button"
                        onclick="location.href='https://github.com/34-43/6candoit'">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                            class="bi bi-github" viewBox="0 0 16 16">
                            <path
                                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8" />
                        </svg>
                        팀 Github
                    </button>
                    <button class="btn btn-secondary btn-lg" type="button"
                        onclick="location.href='https://www.notion.so/teamsparta/6-bc1c488a4a594dac856b83a6cb048a52?pvs=4'">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                            class="bi bi-journals" viewBox="0 0 16 16">
                            <path
                                d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2" />
                            <path
                                d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0" />
                        </svg>
                        팀 Notion
                    </button>
                </div>
            </div>
            <!-- 팀 내용 -->
            <div class="container mt-5 mb-5">
                <h1 class="mb-4 pb-3 border-bottom text-black-50">개요</h1>
                <div class="row gap-5">
                    <div class="col card p-0 overflow-hidden">
                        <div class="card-title bg-primary bg-opacity-50 p-2 text-white fs-4">🌞 팀 약속</div>
                        <div class="card-body">
                            <div class="card-text">
                                <ol>
                                    <li>시간 약속을 철저히 지키겠습니다.</li>
                                    <li>회의 시 서로의 의견을 존중하고 질문 받으면 성의 있게 답변하겠습니다.</li>
                                    <li>실수나 문제가 있을 때 팀 모두가 협력하여 문제 해결을 위해 노력하겠습니다.</li>
                                    <li>코드 작성에 어려움이 있으면 담당 팀원과 즉시 연락을 취하겠습니다.</li>
                                    <li>중요한 공지가 올라왔을 때 팀원들과 공유하겠습니다.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <div class="col card p-0 overflow-hidden">
                        <div class="card-title bg-primary bg-opacity-50 p-2 text-white fs-4">💪🏻 팀의 목표</div>
                        <div class="card-body">
                            <div class="card-text">
                                <ul>
                                    <li>웹 개발이 처음인 팀원들이 웹 개발에 익숙해질 수 있는 경험으로 삼기</li>
                                    <li>많은 기능을 넣으려기 보다 잘 구현되는 웹 페이지 만들기</li>
                                    <li>TIL, 코드카타 매일 풀 수 있는 만큼 열심히 풀기</li>
                                    <li>웹개발 종합반을 마저 듣고 html, firestore를 활용해서 완성된 페이지 만들기</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col card p-0 overflow-hidden">
                        <div class="card-title bg-primary bg-opacity-50 p-2 text-white fs-4">⏰ 스케줄</div>
                        <div class="card-body">
                            <div class="card-text">
                                <p class="d-inline text-primary-emphasis fw-bold">09:00</p> 역할분담 스크럼 미팅 이후 개별 프로젝트
                                작업<br />
                                <p class="d-inline text-primary-emphasis fw-bold">점심 식사 후</p> 일일 회의 및 코드 통합<br />
                                <p class="d-inline text-primary-emphasis fw-bold">회의 종료 후</p> 개별 스터디 및 자습<br />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 팀원 -->
            <div class="container mt-5 mb-5">
                <h1 class="mb-4 pb-3 border-bottom text-black-50">팀원</h1>
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#staticBackdrop">팀원추가</button>
            </div>

            <div id="profile_card_list" class="d-flex flex-row justify-content-center gap-5">
                <div id="profile_card_template" class="d-inline-flex card border-0">
                    <h3 class="m-2 text-center"></h3>
                    <img class="rounded-circle img-thumbnail">
                    <p class="p-2 bg-body-tertiary"></p>
                </div>
            </div>
        </div>

        <!--read를 확인하는 임시 카드입니다-->
        <div id="cards" class="cards">
            <div id="c-animal" class="c-animal"></div>
            <p id="c-name"></p>
            <p id="c-mbti"></p>
        </div>


        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">팀원 정보를 입력해 주세요.</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="mb-3">
                                <label class="form-label">이름</label>
                                <input type="text" class="form-control" id="f-name" maxlength="8">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">나이</label>
                                <input type="text" class="form-control" id="f-age" maxlength="3">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">MBTI</label>
                                <input type="text" class="form-control" id="f-mbti" maxlength="4">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">대표 동물</label>
                                <select class="form-select" name="f-animal" id="f-animal">
                                    <option selected value="IMG/cat_img.jpg">고양이</option>
                                    <option value="IMG/raccoon_img.jpg">너구리</option>
                                    <option value="IMG/tiger_img.jpg">호랑이</option>
                                    <option value="IMG/dog_img.jpg">강아지</option>
                                    <option value="IMG/koala_img.jpg">코알라</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">선택한 동물에 대한 설명</label>
                                <input type="text" class="form-control" id="f-animal-text">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">취미</label>
                                <input type="text" class="form-control" id="f-habit">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">이미지</label>
                                <input type="text" class="form-control" id="f-img">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">개발을 시작하게 된 계기</label>
                                <textarea class="form-control" id="f-comment"></textarea>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">깃허브 주소</label>
                                <input type="text" class="form-control" id="f-git-url">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">블로그 주소</label>
                                <input type="text" class="form-control" id="f-blog-url">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="make-no">닫기</button>
                                <button type="button" class="btn btn-primary" id="make-ok">만들기</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <footer class="text-center pt-3 pb-5 text-body-secondary bg-body-tertiary">
            &copy; 2024년 내일배움캠프 Spring 3기
        </footer>
        </div>
    </main>

    <!-- 바디 스크립트 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="firebase.js" type="module"></script>
</body>

</html>